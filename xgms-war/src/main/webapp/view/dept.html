<div>
	<div class="row">
		<div class="col-md-3">
			<label style="font-weight: 500; font-size: 24px; line-height: 24px;">部门管理</label>
			<button class="btn btn-primary btn-sm" ng-click="add()">添加一级部门</button>
			<treecontrol class="tree-classic" tree-model="depts" order-by="sort" reverse-order="false" selected-node="selectedDept" on-selection="showSelected(node)">
			     {{node.name}}
			</treecontrol>
		</div>
		<div class="col-md-9">
			<div style="width:400px;margin: 0 auto;" ng-hide="addStatus">
				<form role="form" name="editForm" ng-submit="saveDept(editForm.$valid)" class="form-horizontal" novalidate>
					<h3>编辑部门</h3>
					<div class="form-group  has-feedback">
						<label class="control-label" for="name">部门名称：</label>
			   			<input name="name" ng-model="editDept.name" required type="text" 
			   				class="form-control" placeholder="部门名称" autocomplete="off">
			   			<span class="glyphicon glyphicon-ok form-control-feedback"
			                  ng-show="editForm.name.$dirty && editForm.name.$valid"></span>
					</div>	
					<div class="form-group  has-feedback">
						<label class="control-label" for="sort">同级排序：</label>
			   			<input name="sort" ng-model="editDept.sort" required type="number" 
			   				class="form-control" placeholder="同级部门间的排序" autocomplete="off">
			   			<span class="glyphicon glyphicon-ok form-control-feedback"
			                  ng-show="editForm.sort.$dirty && editForm.sort.$valid"></span>
					</div>
					<button type="submit" class="btn btn-primary" 
						ng-disabled="editForm.$invalid" >保存</button>
						&nbsp;&nbsp;&nbsp;&nbsp;
					<button type="button" class="btn btn-default" ng-click="addChild()" ng-disabled="selectedDept==undefined">添加子部门</button>
					&nbsp;&nbsp;&nbsp;&nbsp;
					<button type="button" class="btn btn-danger" ng-click="del()" ng-disabled="selectedDept==undefined">删除</button>
				</form>
			</div>
			
			<div style="width:400px;margin: 0 auto;" ng-show="addStatus">
				<form role="form" name="addForm" ng-submit="addSave(addForm.$valid)" class="form-horizontal" novalidate>
					<h3>添加部门</h3>
					<div class="form-group">
						<label class="control-label" for="name">上级部门：</label>
						{{selectedDept == undefined ? '无': selectedDept.name}}
					</div>
					<div class="form-group  has-feedback">
						<label class="control-label" for="name">部门名称：</label>
			   			<input name="name" ng-model="addDept.name" required type="text" 
			   				class="form-control" placeholder="部门名称" autocomplete="off">
			   			<span class="glyphicon glyphicon-ok form-control-feedback"
			                  ng-show="addForm.name.$dirty && addForm.name.$valid"></span>
					</div>	
					<div class="form-group  has-feedback">
						<label class="control-label" for="sort">同级排序：</label>
			   			<input name="sort" ng-model="addDept.sort" required type="number" 
			   				class="form-control" placeholder="同级部门间的排序" autocomplete="off">
			   			<span class="glyphicon glyphicon-ok form-control-feedback"
			                  ng-show="addForm.sort.$dirty && addForm.sort.$valid"></span>
					</div>
					<button type="submit" class="btn btn-primary" 
						ng-disabled="addForm.$invalid" >保存</button>
						&nbsp;&nbsp;&nbsp;&nbsp;
					<button type="button" class="btn btn-default" ng-click="cancelAdd()">取消</button>
				</form>
			</div>
		</div>
	</div>
</div>
